-- Скрипт для Roblox Studio
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Функция для создания скримера
local function createScreamer(player)
    -- Ждем, пока загрузится персонаж игрока
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    -- Создаем экранный GUI для скримера
    local screamerGui = Instance.new("ScreenGui")
    screamerGui.Name = "ScreamerGui"
    screamerGui.Parent = player.PlayerGui
    screamerGui.ResetOnSpawn = false

    -- Создаем изображение (нужен ID пугающей картинки)
    local image = Instance.new("ImageLabel")
    image.Size = UDim2.new(1, 0, 1, 0) -- Полный экран
    image.Position = UDim2.new(0, 0, 0, 0)
    image.BackgroundTransparency = 1
    image.Image = "rbxassetid://11818627075" -- Замени на реальный ID страшной картинки из Roblox
    image.Parent = screamerGui

    -- Создаем звук (нужен ID страшного звука)
    local screamSound = Instance.new("Sound")
    screamSound.SoundId = "rbxassetid://7245461946" -- Замени на реальный ID громкого крика
    screamSound.Volume = 10 -- Максимальная громкость
    screamSound.Parent = humanoidRootPart
    screamSound:Play()

    -- Показываем скример на 0.5 секунды
    image.Visible = true
    wait(0.5)
    image.Visible = false

    -- Удаляем GUI и звук после активации
    wait(1)
    screamerGui:Destroy()
    screamSound:Destroy()
end

-- Функция для случайного срабатывания
local function startScreamer()
    while true do
        wait(math.random(30, 120)) -- Случайная задержка от 30 до 120 секунд
        for _, player in pairs(Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                createScreamer(player)
            end
        end
    end
end

-- Запускаем скример
spawn(startScreamer)

-- Дополнительный эффект: искажение экрана
local function glitchEffect(player)
    local gui = Instance.new("ScreenGui")
    gui.Parent = player.PlayerGui
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.BackgroundColor3 = Color3.new(1, 0, 0) -- Красный шум
    frame.BackgroundTransparency = 0.8
    frame.Parent = gui
    
    for i = 1, 5 do
        frame.BackgroundTransparency = math.random(0.5, 0.9)
        wait(0.1)
    end
    gui:Destroy()
end

-- Пример триггера при касании объекта
local triggerPart = script.Parent -- Помести это в часть, которая будет триггером
triggerPart.Touched:Connect(function(hit)
    local player = Players:GetPlayerFromCharacter(hit.Parent)
    if player then
        createScreamer(player)
        glitchEffect(player)
    end
end)
